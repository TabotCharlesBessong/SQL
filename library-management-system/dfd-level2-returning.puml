@startuml Level 2 DFD - Returning (Process 5.0)

skinparam maxwidth 1600
skinparam maxheight 1100
skinparam dpi 300
scale max 1600x1100

title Level 2 Data Flow Diagram - Returning (Process 5.0)

rectangle "User" as User
rectangle "Staff" as Staff

rectangle "D1\nUsers" as D1
rectangle "D2\nResources" as D2
rectangle "D3\nTransactions" as D3

rectangle "5.1\nIdentify" as P51
rectangle "5.2\nUpdate system" as P52
rectangle "5.3\nClose transaction" as P53

User --> P51 : User id, resource
Staff --> P51 : User id, resource
P51 --> P52 : Identified loan
P51 --> D3 : read
P51 --> D1 : read
P51 --> D2 : read

P52 --> P53 : Valid return
P52 --> D3 : read/write
P52 --> D2 : read/write

P53 --> User : Confirmation
P53 --> Staff : Confirmation
P53 --> D3 : read/write
P53 --> D2 : read/write

@enduml
