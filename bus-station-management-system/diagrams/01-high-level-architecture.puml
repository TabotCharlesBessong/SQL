@startuml Bus Station Management System - High-Level Architecture
!theme plain
skinparam backgroundColor #FAFBFC
skinparam roundcorner 8
skinparam defaultFontSize 11
skinparam rectangleBorderColor #37474F

title Figure 1: High-Level System Architecture Diagram\n**Bus Station Management System**

' Muted, professional layer colors (blue-grey family)
rectangle "**PRESENTATION LAYER**" as PRES #E8EAF6 {
  rectangle "Passenger\nWeb Portal" as PWeb #C5CAE9
  rectangle "Passenger\nMobile App" as PMob #C5CAE9
  rectangle "Staff Web Portal\n(Ticketing, Trips, Buses)" as SWeb #9FA8DA
  rectangle "Driver\nMobile App" as DApp #9FA8DA
  rectangle "Management\nDashboard" as Mgmt #7986CB
}

rectangle "**APPLICATION LAYER**" as APP #E0F2F1 {
  rectangle "API Gateway\n/ Reverse Proxy" as GW #B2DFDB
  rectangle "Core Application Server\n(User, Booking, Payment,\nTrip, Bus/Route, Reporting)" as CORE #80CBC4
  rectangle "Message Queue\n(Optional)" as MQ #4DB6AC
}

rectangle "**DATA LAYER**" as DATA #ECEFF1 {
  rectangle "Relational Database\n(PostgreSQL/MySQL)" as DB #CFD8DC
  rectangle "Cache\n(Redis)" as CACHE #B0BEC5
  rectangle "File / Object\nStorage" as FILES #90A4AE
}

rectangle "**INTEGRATION LAYER**" as INT #EFEBE9 {
  rectangle "Payment Gateway\nAdapter" as PAY #D7CCC8
  rectangle "GPS Service\nAdapter" as GPS #BCAAA4
  rectangle "SMS / Email\nAdapter" as COMM #A1887F
}

' Connections - neutral grey
PRES -[#546E7A]-> APP : HTTPS\n(REST API)
APP -[#546E7A]-> DATA : SQL / Cache\nProtocol
APP -[#546E7A]-> INT : HTTPS\n(API Calls)
INT -[#546E7A,dashed]-> APP : Webhooks\n(Callbacks)

note right of PRES
  **User Layer**
  Web & mobile clients
  for passengers, staff,
  drivers, management
end note

note right of APP
  **Business Logic**
  Authentication, booking lifecycle,
  payment coordination,
  trip & schedule management
end note

note right of DATA
  **Persistence**
  Bookings, tickets, payments,
  routes, trips, audit logs
end note

note right of INT
  **External Systems**
  Payment, GPS tracking,
  SMS/Email notifications
end note

@enduml
